<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SkillBridge · Database Schema</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=Geist:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --black:    #060608;
      --surface:  #0d0d10;
      --line:     #1c1c22;
      --muted:    #52525c;
      --body:     #a1a1aa;
      --white:    #fafafb;
      --blue:     #3b7ff5;
      --blue-dim: rgba(59,127,245,.06);
      --green:    #22c55e;
      --amber:    #f59e0b;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { font-size: 16px; }

    body {
      font-family: 'Geist', system-ui, sans-serif;
      background: var(--black);
      color: var(--body);
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
    }

    .wrap {
      max-width: 900px;
      margin: 0 auto;
      padding: 0 24px;
    }

    /* ── topbar ── */
    .topbar {
      border-bottom: 1px solid var(--line);
      padding: 18px 0;
    }
    .topbar .wrap {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .wordmark {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .8rem;
      font-weight: 500;
      color: var(--white);
      letter-spacing: .04em;
      text-decoration: none;
    }
    .topbar-right {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    .back-link {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .72rem;
      color: var(--muted);
      text-decoration: none;
      transition: color .15s;
    }
    .back-link:hover { color: var(--white); }

    /* ── hero ── */
    .hero {
      padding: 80px 0 64px;
      border-bottom: 1px solid var(--line);
    }
    .eyebrow {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .72rem;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: var(--blue);
      margin-bottom: 24px;
    }
    h1 {
      font-size: clamp(2rem, 4vw, 2.8rem);
      font-weight: 600;
      color: var(--white);
      line-height: 1.15;
      letter-spacing: -.03em;
      margin-bottom: 16px;
    }
    .lead {
      font-size: 1rem;
      line-height: 1.7;
      color: var(--body);
      max-width: 520px;
    }

    /* ── section ── */
    .section {
      padding: 56px 0;
      border-bottom: 1px solid var(--line);
    }
    .section:last-of-type { border-bottom: none; }

    h2 {
      font-size: 1rem;
      font-weight: 500;
      color: var(--white);
      letter-spacing: -.01em;
      margin-bottom: 28px;
    }

    /* ── stats row ── */
    .stats-row {
      display: flex;
      gap: 0;
      border: 1px solid var(--line);
      border-radius: 8px;
      overflow: hidden;
    }
    .stat {
      flex: 1;
      padding: 20px 16px;
      border-right: 1px solid var(--line);
      text-align: center;
    }
    .stat:last-child { border-right: none; }
    .stat-val {
      font-family: 'IBM Plex Mono', monospace;
      font-size: 1.4rem;
      font-weight: 500;
      color: var(--white);
      display: block;
      margin-bottom: 4px;
    }
    .stat-lbl {
      font-size: .72rem;
      color: var(--muted);
    }
    @media (max-width: 600px) {
      .stats-row { flex-wrap: wrap; }
      .stat { flex: 0 0 50%; border-bottom: 1px solid var(--line); }
      .stat:nth-child(2n) { border-right: none; }
    }

    /* ── table blocks ── */
    .tables {
      display: flex;
      flex-direction: column;
      gap: 40px;
    }

    .db-table {}

    .db-table-name {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .82rem;
      font-weight: 500;
      color: var(--white);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .db-table-name .tag {
      font-size: .65rem;
      padding: 2px 7px;
      border-radius: 3px;
      font-weight: 400;
      letter-spacing: .04em;
    }
    .tag-junction {
      background: rgba(245,158,11,.1);
      color: var(--amber);
      border: 1px solid rgba(245,158,11,.2);
    }

    .db-fields {
      border: 1px solid var(--line);
      border-radius: 8px;
      overflow: hidden;
    }
    .db-field {
      display: grid;
      grid-template-columns: 180px 1fr 80px;
      align-items: center;
      padding: 10px 16px;
      border-bottom: 1px solid var(--line);
      gap: 12px;
      transition: background .12s;
    }
    .db-field:last-child { border-bottom: none; }
    .db-field:hover { background: var(--surface); }
    .db-field.is-pk  { border-left: 2px solid var(--green); }
    .db-field.is-fk  { border-left: 2px solid var(--blue); }

    .f-name {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .78rem;
      color: var(--white);
    }
    .f-name.pk-name { color: var(--green); }
    .f-name.fk-name { color: var(--blue); }

    .f-type {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .75rem;
      color: var(--muted);
    }

    .f-badge {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .62rem;
      padding: 2px 6px;
      border-radius: 3px;
      letter-spacing: .04em;
      text-align: center;
      justify-self: end;
    }
    .badge-pk   { background: rgba(34,197,94,.1);  color: var(--green); border: 1px solid rgba(34,197,94,.2); }
    .badge-fk   { background: rgba(59,127,245,.1); color: var(--blue);  border: 1px solid rgba(59,127,245,.2); }
    .badge-enum { background: rgba(245,158,11,.1); color: var(--amber); border: 1px solid rgba(245,158,11,.2); }

    /* ── relationships ── */
    .rel-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 0;
    }
    .rel-list li {
      display: grid;
      grid-template-columns: 32px 1fr;
      gap: 14px;
      align-items: start;
      padding: 14px 0;
      border-bottom: 1px solid var(--line);
    }
    .rel-list li:first-child { border-top: 1px solid var(--line); }
    .rel-icon {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .72rem;
      color: var(--muted);
      padding-top: 1px;
    }
    .rel-desc {
      font-size: .9rem;
      color: var(--body);
      line-height: 1.55;
    }
    .rel-desc code {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .8rem;
      color: var(--white);
      background: var(--surface);
      border: 1px solid var(--line);
      padding: 1px 5px;
      border-radius: 3px;
    }

    /* ── enums ── */
    .enums-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 16px;
    }
    .enum-block {}
    .enum-name {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .78rem;
      color: var(--amber);
      margin-bottom: 8px;
    }
    .enum-values {
      border: 1px solid var(--line);
      border-radius: 6px;
      overflow: hidden;
    }
    .enum-val {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .75rem;
      padding: 7px 12px;
      border-bottom: 1px solid var(--line);
      color: var(--body);
      transition: background .12s;
    }
    .enum-val:last-child { border-bottom: none; }
    .enum-val:hover { background: var(--surface); color: var(--white); }

    /* ── footer ── */
    footer {
      padding: 32px 0;
      border-top: 1px solid var(--line);
    }
    footer .wrap {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 12px;
    }
    .footer-note {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .72rem;
      color: var(--muted);
    }
    .footer-links {
      display: flex;
      gap: 20px;
    }
    .footer-links a {
      font-family: 'IBM Plex Mono', monospace;
      font-size: .72rem;
      color: var(--muted);
      text-decoration: none;
      transition: color .15s;
    }
    .footer-links a:hover { color: var(--white); }

    /* ── fade-in ── */
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(14px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .hero > * { animation: fadeUp .5s ease both; }
    .hero .eyebrow { animation-delay: .05s; }
    .hero h1      { animation-delay: .12s; }
    .hero .lead   { animation-delay: .2s; }
  </style>
</head>
<body>

  <!-- ── Topbar ── -->
  <nav class="topbar">
    <div class="wrap">
      <a class="wordmark" href="/">SkillBridge API</a>
      <div class="topbar-right">
        <a class="back-link" href="./index.html">← Back to API</a>
      </div>
    </div>
  </nav>

  <!-- ── Hero ── -->
  <section class="hero">
    <div class="wrap">
      <p class="eyebrow">PostgreSQL · Prisma · ERD</p>
      <h1>Database Schema</h1>
      <p class="lead">
        Seven tables, four enum types, UUID primary keys throughout.
        Designed for a tutor-student marketplace with bookings,
        availability, and a review system.
      </p>
    </div>
  </section>

  <!-- ── Stats ── -->
  <section class="section">
    <div class="wrap">
      <div class="stats-row">
        <div class="stat"><span class="stat-val">7</span><span class="stat-lbl">Tables</span></div>
        <div class="stat"><span class="stat-val">4</span><span class="stat-lbl">Enum types</span></div>
        <div class="stat"><span class="stat-val">11</span><span class="stat-lbl">Relations</span></div>
        <div class="stat"><span class="stat-val">UUID</span><span class="stat-lbl">Primary keys</span></div>
        <div class="stat"><span class="stat-val">∞</span><span class="stat-lbl">Cascade deletes</span></div>
      </div>
    </div>
  </section>

  <!-- ── Tables ── -->
  <section class="section">
    <div class="wrap">
      <h2>Tables</h2>
      <div class="tables">

        <!-- User -->
        <div class="db-table">
          <div class="db-table-name">user</div>
          <div class="db-fields">
            <div class="db-field is-pk"><span class="f-name pk-name">id</span><span class="f-type">UUID @default(cuid())</span><span class="f-badge badge-pk">PK</span></div>
            <div class="db-field"><span class="f-name">name</span><span class="f-type">String</span><span></span></div>
            <div class="db-field"><span class="f-name">email</span><span class="f-type">String @unique</span><span></span></div>
            <div class="db-field"><span class="f-name">password</span><span class="f-type">String?</span><span></span></div>
            <div class="db-field"><span class="f-name">image</span><span class="f-type">String?</span><span></span></div>
            <div class="db-field"><span class="f-name">emailVerified</span><span class="f-type">Boolean @default(false)</span><span></span></div>
            <div class="db-field"><span class="f-name">phone</span><span class="f-type">String?</span><span></span></div>
            <div class="db-field"><span class="f-name">role</span><span class="f-type">Role</span><span class="f-badge badge-enum">ENUM</span></div>
            <div class="db-field"><span class="f-name">status</span><span class="f-type">UserStatus</span><span class="f-badge badge-enum">ENUM</span></div>
            <div class="db-field"><span class="f-name">isBanned</span><span class="f-type">Boolean @default(false)</span><span></span></div>
            <div class="db-field"><span class="f-name">createdAt</span><span class="f-type">DateTime @default(now())</span><span></span></div>
          </div>
        </div>

        <!-- TutorProfile -->
        <div class="db-table">
          <div class="db-table-name">tutor_profile</div>
          <div class="db-fields">
            <div class="db-field is-pk"><span class="f-name pk-name">id</span><span class="f-type">UUID @default(cuid())</span><span class="f-badge badge-pk">PK</span></div>
            <div class="db-field is-fk"><span class="f-name fk-name">userId</span><span class="f-type">UUID @unique → user.id</span><span class="f-badge badge-fk">FK</span></div>
            <div class="db-field"><span class="f-name">title</span><span class="f-type">String</span><span></span></div>
            <div class="db-field"><span class="f-name">bio</span><span class="f-type">Text</span><span></span></div>
            <div class="db-field"><span class="f-name">education</span><span class="f-type">String?</span><span></span></div>
            <div class="db-field"><span class="f-name">experience</span><span class="f-type">Int</span><span></span></div>
            <div class="db-field"><span class="f-name">hourlyRate</span><span class="f-type">Decimal</span><span></span></div>
            <div class="db-field"><span class="f-name">languages</span><span class="f-type">String[]</span><span></span></div>
            <div class="db-field"><span class="f-name">rating</span><span class="f-type">Decimal @default(0)</span><span></span></div>
            <div class="db-field"><span class="f-name">totalReviews</span><span class="f-type">Int @default(0)</span><span></span></div>
            <div class="db-field"><span class="f-name">isVerified</span><span class="f-type">Boolean @default(false)</span><span></span></div>
          </div>
        </div>

        <!-- Category -->
        <div class="db-table">
          <div class="db-table-name">category</div>
          <div class="db-fields">
            <div class="db-field is-pk"><span class="f-name pk-name">id</span><span class="f-type">UUID @default(cuid())</span><span class="f-badge badge-pk">PK</span></div>
            <div class="db-field"><span class="f-name">name</span><span class="f-type">String</span><span></span></div>
            <div class="db-field"><span class="f-name">slug</span><span class="f-type">String @unique</span><span></span></div>
            <div class="db-field"><span class="f-name">description</span><span class="f-type">Text?</span><span></span></div>
            <div class="db-field"><span class="f-name">icon</span><span class="f-type">String?</span><span></span></div>
            <div class="db-field"><span class="f-name">isActive</span><span class="f-type">Boolean @default(true)</span><span></span></div>
          </div>
        </div>

        <!-- TutorCategory -->
        <div class="db-table">
          <div class="db-table-name">tutor_category <span class="tag tag-junction">junction</span></div>
          <div class="db-fields">
            <div class="db-field is-pk"><span class="f-name pk-name">id</span><span class="f-type">UUID @default(cuid())</span><span class="f-badge badge-pk">PK</span></div>
            <div class="db-field is-fk"><span class="f-name fk-name">tutorProfileId</span><span class="f-type">UUID → tutor_profile.id</span><span class="f-badge badge-fk">FK</span></div>
            <div class="db-field is-fk"><span class="f-name fk-name">categoryId</span><span class="f-type">UUID → category.id</span><span class="f-badge badge-fk">FK</span></div>
            <div class="db-field"><span class="f-name">createdAt</span><span class="f-type">DateTime @default(now())</span><span></span></div>
          </div>
        </div>

        <!-- Availability -->
        <div class="db-table">
          <div class="db-table-name">availability</div>
          <div class="db-fields">
            <div class="db-field is-pk"><span class="f-name pk-name">id</span><span class="f-type">UUID @default(cuid())</span><span class="f-badge badge-pk">PK</span></div>
            <div class="db-field is-fk"><span class="f-name fk-name">tutorProfileId</span><span class="f-type">UUID → tutor_profile.id</span><span class="f-badge badge-fk">FK</span></div>
            <div class="db-field"><span class="f-name">dayOfWeek</span><span class="f-type">DayOfWeek</span><span class="f-badge badge-enum">ENUM</span></div>
            <div class="db-field"><span class="f-name">startTime</span><span class="f-type">String</span><span></span></div>
            <div class="db-field"><span class="f-name">endTime</span><span class="f-type">String</span><span></span></div>
            <div class="db-field"><span class="f-name">isActive</span><span class="f-type">Boolean @default(true)</span><span></span></div>
          </div>
        </div>

        <!-- Booking -->
        <div class="db-table">
          <div class="db-table-name">booking</div>
          <div class="db-fields">
            <div class="db-field is-pk"><span class="f-name pk-name">id</span><span class="f-type">UUID @default(cuid())</span><span class="f-badge badge-pk">PK</span></div>
            <div class="db-field is-fk"><span class="f-name fk-name">studentId</span><span class="f-type">UUID → user.id</span><span class="f-badge badge-fk">FK</span></div>
            <div class="db-field is-fk"><span class="f-name fk-name">tutorProfileId</span><span class="f-type">UUID → tutor_profile.id</span><span class="f-badge badge-fk">FK</span></div>
            <div class="db-field is-fk"><span class="f-name fk-name">categoryId</span><span class="f-type">UUID? → category.id</span><span class="f-badge badge-fk">FK</span></div>
            <div class="db-field"><span class="f-name">scheduledDate</span><span class="f-type">DateTime</span><span></span></div>
            <div class="db-field"><span class="f-name">duration</span><span class="f-type">Int (minutes)</span><span></span></div>
            <div class="db-field"><span class="f-name">totalPrice</span><span class="f-type">Decimal</span><span></span></div>
            <div class="db-field"><span class="f-name">status</span><span class="f-type">BookingStatus</span><span class="f-badge badge-enum">ENUM</span></div>
            <div class="db-field"><span class="f-name">meetingLink</span><span class="f-type">String?</span><span></span></div>
            <div class="db-field"><span class="f-name">notes</span><span class="f-type">Text?</span><span></span></div>
            <div class="db-field"><span class="f-name">cancellationReason</span><span class="f-type">String?</span><span></span></div>
          </div>
        </div>

        <!-- Review -->
        <div class="db-table">
          <div class="db-table-name">review</div>
          <div class="db-fields">
            <div class="db-field is-pk"><span class="f-name pk-name">id</span><span class="f-type">UUID @default(cuid())</span><span class="f-badge badge-pk">PK</span></div>
            <div class="db-field is-fk"><span class="f-name fk-name">bookingId</span><span class="f-type">UUID @unique → booking.id</span><span class="f-badge badge-fk">FK</span></div>
            <div class="db-field is-fk"><span class="f-name fk-name">studentId</span><span class="f-type">UUID → user.id</span><span class="f-badge badge-fk">FK</span></div>
            <div class="db-field is-fk"><span class="f-name fk-name">tutorProfileId</span><span class="f-type">UUID → tutor_profile.id</span><span class="f-badge badge-fk">FK</span></div>
            <div class="db-field"><span class="f-name">rating</span><span class="f-type">Int (1–5)</span><span></span></div>
            <div class="db-field"><span class="f-name">comment</span><span class="f-type">Text?</span><span></span></div>
            <div class="db-field"><span class="f-name">createdAt</span><span class="f-type">DateTime @default(now())</span><span></span></div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- ── Relationships ── -->
  <section class="section">
    <div class="wrap">
      <h2>Relationships</h2>
      <ul class="rel-list">
        <li>
          <span class="rel-icon">1:1</span>
          <span class="rel-desc"><code>user</code> has one <code>tutor_profile</code> — enforced by <code>userId @unique</code>.</span>
        </li>
        <li>
          <span class="rel-icon">1:N</span>
          <span class="rel-desc"><code>tutor_profile</code> has many <code>availability</code> slots. Weekly recurring schedule.</span>
        </li>
        <li>
          <span class="rel-icon">M:N</span>
          <span class="rel-desc"><code>tutor_profile</code> and <code>category</code> linked through <code>tutor_category</code> junction table.</span>
        </li>
        <li>
          <span class="rel-icon">1:N</span>
          <span class="rel-desc"><code>user</code> (as student) has many <code>booking</code> rows.</span>
        </li>
        <li>
          <span class="rel-icon">1:N</span>
          <span class="rel-desc"><code>tutor_profile</code> has many <code>booking</code> rows.</span>
        </li>
        <li>
          <span class="rel-icon">1:1</span>
          <span class="rel-desc"><code>booking</code> has at most one <code>review</code> — enforced by <code>bookingId @unique</code> on review.</span>
        </li>
        <li>
          <span class="rel-icon">1:N</span>
          <span class="rel-desc"><code>user</code> (as student) has many <code>review</code> rows.</span>
        </li>
        <li>
          <span class="rel-icon">1:N</span>
          <span class="rel-desc"><code>tutor_profile</code> has many <code>review</code> rows. <code>rating</code> and <code>totalReviews</code> are denormalised for fast reads.</span>
        </li>
      </ul>
    </div>
  </section>

  <!-- ── Enums ── -->
  <section class="section">
    <div class="wrap">
      <h2>Enums</h2>
      <div class="enums-grid">
        <div class="enum-block">
          <div class="enum-name">Role</div>
          <div class="enum-values">
            <div class="enum-val">STUDENT</div>
            <div class="enum-val">TUTOR</div>
            <div class="enum-val">ADMIN</div>
          </div>
        </div>
        <div class="enum-block">
          <div class="enum-name">UserStatus</div>
          <div class="enum-values">
            <div class="enum-val">ACTIVE</div>
            <div class="enum-val">INACTIVE</div>
            <div class="enum-val">BANNED</div>
          </div>
        </div>
        <div class="enum-block">
          <div class="enum-name">BookingStatus</div>
          <div class="enum-values">
            <div class="enum-val">PENDING</div>
            <div class="enum-val">CONFIRMED</div>
            <div class="enum-val">COMPLETED</div>
            <div class="enum-val">CANCELLED</div>
          </div>
        </div>
        <div class="enum-block">
          <div class="enum-name">DayOfWeek</div>
          <div class="enum-values">
            <div class="enum-val">MONDAY</div>
            <div class="enum-val">TUESDAY</div>
            <div class="enum-val">WEDNESDAY</div>
            <div class="enum-val">THURSDAY</div>
            <div class="enum-val">FRIDAY</div>
            <div class="enum-val">SATURDAY</div>
            <div class="enum-val">SUNDAY</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ── Footer ── -->
  <footer>
    <div class="wrap">
      <span class="footer-note">© 2026 SkillBridge</span>
      <div class="footer-links">
        <a href="./index.html">API Overview</a>
        <a href="https://github.com/mdmhrz/skill-bridge-api" target="_blank">GitHub</a>
      </div>
    </div>
  </footer>

</body>
</html>